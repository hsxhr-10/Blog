## PEP8

- [官网 PEP8](https://www.python.org/dev/peps/pep-0008/#introduction)
- 中文版：https://python.freelycode.com/contribution/detail/47

## pylint

pylint 是一个轻量级的代码静态扫描工具，可以自动化检查代码是否符合规范、是否存在潜在的问题等，最后还会给检查报告打分。 这个工具可以配合 CI/CD
使用，比如，如果检查报告得分低于某个分数，则不允许走后续的更新发布流程

直接 pip 安装即可，用法如下：

```BASH
$ pylint demo1.py
************* Module tmp.demo1
demo1.py:1:0: C0114: Missing module docstring (missing-module-docstring)
demo1.py:1:0: C0116: Missing function or method docstring (missing-function-docstring)
demo1.py:8:13: W0621: Redefining name 'c' from outer scope (line 15) (redefined-outer-name)
demo1.py:8:0: C0103: Argument name "c" doesn't conform to snake_case naming style (invalid-name)
demo1.py:8:0: C0116: Missing function or method docstring (missing-function-docstring)
demo1.py:15:4: C0103: Constant name "c" doesn't conform to UPPER_CASE naming style (invalid-name)

------------------------------------------------------------------
Your code has been rated at 5.38/10 (previous run: 5.38/10, +0.00)
```

报告说明：

- 检查报告有四个警告级别（级别从高到低排序）：error（错误），warning（警告），refactor（可以重构的点），convention（不符合规范）
- rated at 5.38/10 就是打分结果，意思是满分 10 分，我的模块得了 5.38 分

pylint 也支持自定义检查规则，比如允许没有模块级别的文档，
也就是需要把报告中的 `demo1.py:1:0: C0114: Missing module docstring (missing-module-docstring)`
警告去掉，可以这样做

1. 生成自定义配置文件
   ```BASH
   pylint --persistent=n --generate-rcfile > pylint.conf
   ```
2. 到配置文件中找到这一快
    ```BASH
    [MESSAGES CONTROL]
        disable=...
    ```
3. 把 missing-module-docstring 加到 disable 的末尾
4. 重新执行 pylint 并指定自定义配置文件
    ```BASH
    $ pylint --rcfile ./pylint.conf demo1.py
    ************* Module tmp.demo1
    demo1.py:1:0: C0116: Missing function or method docstring (missing-function-docstring)
    demo1.py:8:13: W0621: Redefining name 'c' from outer scope (line 15) (redefined-outer-name)
    demo1.py:8:0: C0103: Argument name "c" doesn't conform to snake_case naming style (invalid-name)
    demo1.py:8:0: C0116: Missing function or method docstring (missing-function-docstring)
    demo1.py:15:4: C0103: Constant name "c" doesn't conform to UPPER_CASE naming style (invalid-name)
    
    ------------------------------------------------------------------
    Your code has been rated at 6.15/10 (previous run: 5.38/10, +0.77)
   ```

之前的 missing-module-docstring 警告没了，并且得分也提高了

## 参考

- [官网 PEP8](https://www.python.org/dev/peps/pep-0008/#introduction)
- [pylint 官网](https://docs.pylint.org/en/1.6.0/tutorial.html)
- [pylint 在项目中的使用](https://www.jianshu.com/p/c0bd637f706d)
- [How do I disable “missing docstring” warnings at a file-level in Pylint?](https://stackoverflow.com/questions/7877522/how-do-i-disable-missing-docstring-warnings-at-a-file-level-in-pylint)
